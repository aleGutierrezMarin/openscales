<?xml version="1.0" encoding="utf-8"?>
<!--- Get information on the features using WMS GetFeatureInfo request. -->
<s:Group xmlns="http://openscales.org" xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark" width="100%" height="100%"
		 creationComplete="init();">
	
	<fx:Script>
		<![CDATA[
			import org.openscales.core.basetypes.maps.HashMap;
			import org.openscales.core.handler.mouse.MouseHandler;
			import org.openscales.core.measure.Distance;
			import org.openscales.geometry.basetypes.Unit;
			public function init():void {
				var mh:MouseHandler = new MouseHandler(this.fxMap.map, true);
				this.fxMap.map.addControl(mh);
				
				//configure displaySystem of the different tools
				mbar.pathMeasure.displaySystem=MeasureBar.ENGLISH;
				
				var hmAccuraciesPath:HashMap = mbar.pathMeasure.accuracies;
				hmAccuraciesPath.put(MeasureBar.METER,1);
				mbar.pathMeasure.accuracies=hmAccuraciesPath;
				
				mbar.azimuthMeasure.displaySystem=MeasureBar.SEXAGESIMAL;
				mbar.surfaceMeasure.displaySystem=MeasureBar.METRIC;
			}
		]]>
	</fx:Script>
	
	<Map id="fxMap" width="100%" height="100%" resolution="0.17578125" center="-74.011,40.710"
		 minResolution="0.000010728836059570312,EPSG:4326" maxResolution="1.40625,EPSG:4326">
		
		<WMSC name="Nasa" url="http://openscales.org/geoserver/ows" projection="EPSG:4326"
			  layers="bluemarble" format="image/jpeg" 
			  maxExtent="-180,-90,180,90" version="1.1.1"/>
		
		<MeasureBar id="mbar" x="500" y="{height-100}"  />
		
		<KeyBoardHandler id="keyboardHandler" />
		
		<DragHandler id="dragHandler" />
		<WheelHandler id="wheelHandler" />
		
		<MousePosition id="mousePosition" x="10" y="{height-50}" availableProjSrsList="EPSG:4326,EPSG:4269,IGNF:LAMB93" displayProjection="IGNF:LAMB93"/>
		
		<LanguageSwitcher x="300" y="10"/>
		
		<PanZoom id="panZoom" x="10" y="10" scalesLabels="World,0.3515625,1.40625;Country,0.0439453125,0.3515625;State,0.0054931640625,0.0439453125;Town,0.0006866455078125,0.0054931640625;Street,0.0000858306884765625,0.0006866455078125;House,0.000010728836059570313,0.0000858306884765625"/>
		
		<LayerManager x="{width - 225}" y="10" right="10">
			<rendererOptions>
				<fx:Object
					displayZoomToExtent="true" />
			</rendererOptions> 
		</LayerManager>
		
		
	</Map>
	
</s:Group>
